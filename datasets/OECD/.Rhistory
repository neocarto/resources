library(OECD)
install.packages("OECD")
library(OECD)
search_dataset("GDP per capita", data = get_datasets(), ignore.case = TRUE)
search_dataset("TL2", data = get_datasets(), ignore.case = TRUE)
library("sf")
geom <- st_read("OECD_TL2_2020.shp")
geom <- geom[geom$iso3 %in% c("USA", "CAN", "MEX")]
geom <- geom[geom$iso3 %in% c("USA", "CAN", "MEX")]
colnames(geom)
geom <- geom[geom$iso3 %in% c("USA", "CAN", "MEX"),]
library(rmapshaper)
output = ms_simplify(geom, snap = TRUE, keep_shapes = TRUE, keep = 0.1)
colnames(geom)
geom <- geom[,c("tl2_id","name_en","geometry")]
colnames(geom) <- c("id","name","geometry")
output = ms_simplify(geom, snap = TRUE, keep_shapes = TRUE, keep = 0.1)
plot(st_geometry(output))
output = ms_simplify(geom, snap = TRUE, keep_shapes = TRUE, keep = 0.05)
plot(st_geometry(output))
st_write(output,"tl2.shp")
st_read("gadm36_CAN_1_sf")
st_read("ggadm36_CAN_1_sf.rds")
getwd()
st_read("gadm36_CAN_1_sf.rds")
st_read("gadm36_CAN_1_sf.rds")
gadm36_CAN_1_sf <- readRDS("~/Gitlab/resources/datasets/OECD/gadm36_CAN_1_sf.rds")
CAN <- readRDS("gadm36_CAN_1_sf.rds")
CAN <- readRDS("gadm36_CAN_1_sf.rds")
MEX <- readRDS("gadm36_MEX_1_sf.rds")
USA <- readRDS("gadm36_USA_1_sf.rds")
plot(st_geometry(CAN))
library(sf)
geo <- st_read("geometries/CNTR_RG_20M_2020_4326.shp")
library(sf)
geo <- st_read("geometries/TL2_final.shp")
data <- read.csv("gdppc.csv")
colnames(geom)
geom <- st_read("geometries/TL2_final.shp")
colnames(geom)
data <- read.csv("gdppc.csv")
colnames(data)
output <- merge(x = geom, y = data, by.x = "LT2_id", by.y = "id", all.x = TRUE)
View(output)
colnames(outputs)
colnames(output)
output <- output[,c("LT2_id","name","geometry")]
colnames(output) <- c("id","name","geometry")
st_write(output, "LT2.shp")
st_write(output, "geometries/LT2.shp")
